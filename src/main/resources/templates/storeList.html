<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
  <!-- 헤더 정보 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <style>
    .table-responsive {
      width: 50%;
      margin: 0 auto; /* 중앙 정렬 */
    }
    .store-id, .store-name {
      width: 50%; /* 각 컬럼의 너비를 테이블 너비의 절반으로 설정 */
    }
  </style>
</head>
<body>
  <div class="table-responsive">
    <table class="table mx-auto">
      <tr>
        <th scope="col">번호</th>
        <th scope="col">이름</th>
      </tr>
      <tr th:each="store : ${stores}">
        <td class="store-id" th:text="${store.store_id}"></td>
        <td class="store-name" th:text="${store.store_name}"></td>
      </tr>
    </table>
  </div>

  <!-- 페이지 네비게이션 -->
  <nav aria-label="Page navigation example" class="d-flex justify-content-center">
    <ul class="pagination justify-content-center">
      <!-- Previous 버튼 -->
      <li class="page-item" th:classappend="${(page.number <= 10) ? 'disabled' : ''}">
        <a class="page-link" href="#" th:href="@{/stores(page=${(page.number - 9) <= 0 ? 1 : (page.number - 9)})}" aria-label="이전 페이지">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>

      <!-- 페이지 번호 생성 -->
      <li th:each="i : ${#numbers.sequence(1, 10)}"
          th:if="${page.totalPages >= (page.number / 10 * 10 + i)}"
          th:classappend="${page.number % 10 + 1== i ? 'active' : ''}" class="page-item">
        <a class="page-link" th:text="${(page.number / 10 * 10) + i}" th:href="@{/stores(page=${(page.number / 10 * 10) + i})}"></a>
      </li>

      <!-- Next 버튼 -->
      <li class="page-item" th:classappend="${(page.number + 11 > page.totalPages) ? 'disabled' : ''}">
        <a class="page-link" href="#" th:href="@{/stores(page=${page.number + 1 > page.totalPages ? page.totalPages : page.number + 11})}" aria-label="다음 페이지">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
    </ul>
  </nav>

</body>
</html>
